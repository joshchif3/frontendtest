import{a as D,u as P,b as _,r as d,j as e,L as q,R as $,E as W,h as V,B as ee,c as ae,d as C,e as se}from"./vendor-BkVIMzd1.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))b(l);new MutationObserver(l=>{for(const m of l)if(m.type==="childList")for(const p of m.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&b(p)}).observe(document,{childList:!0,subtree:!0});function u(l){const m={};return l.integrity&&(m.integrity=l.integrity),l.referrerPolicy&&(m.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?m.credentials="include":l.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function b(l){if(l.ep)return;l.ep=!0;const m=u(l);fetch(l.href,m)}})();const te="http://localhost:8080/employee/getAll",ne="http://localhost:8080/employee/add",re="http://localhost:8080/employee/get",le="http://localhost:8080/employee/update",ie=()=>D.get(te),ce=t=>D.post(ne,t),K=t=>D.get(re+"/"+t),oe=(t,s)=>D.put(`${le}/${t}`,s),B=()=>{const t=P(),{id:s}=_(),[u,b]=d.useState(""),[l,m]=d.useState(""),[p,N]=d.useState(""),[x,n]=d.useState(""),[h,r]=d.useState(""),[y,a]=d.useState(""),[g,S]=d.useState(""),[E,T]=d.useState(""),[A,w]=d.useState(""),[f,k]=d.useState(""),[R,F]=d.useState(""),[j,v]=d.useState(""),[c,I]=d.useState({firstname:"",lastname:"",email:"",address:"",company:"",companyTerm:"",endDate:"",location:"",role:"",salary:"",startDate:"",status:""});d.useEffect(()=>{s&&K(s).then(i=>{const o=i.data;b(o.name),m(o.surname),N(o.email),n(o.address),r(o.company),a(o.companyTerm),S(o.endDate),T(o.location),w(o.role),k(o.salary),F(o.startDate),v(o.status)}).catch(i=>{console.error(i)})},[s]);function M(i){if(i.preventDefault(),Q()){const o={name:u,surname:l,address:x,company:h,companyTerm:y,email:p,endDate:g,location:E,role:A,salary:f,startDate:R,status:j};s?oe(s,o).then(L=>{console.log(L.data),t("/employees")}).catch(L=>{console.error(L)}):ce(o).then(L=>{console.log(L.data),t("/employees")}).catch(L=>{console.error(L)})}}function J(){t("/employees")}function Q(){let i=!0;const o={...c};return u.trim()?o.firstname="":(o.firstname="First name is required",i=!1),l.trim()?o.lastname="":(o.lastname="Last name is required",i=!1),p.trim()?o.email="":(o.email="Email is required",i=!1),x.trim()?o.address="":(o.address="Address is required",i=!1),h.trim()?o.company="":(o.company="Company is required",i=!1),y.trim()?o.companyTerm="":(o.companyTerm="Company term is required",i=!1),g.trim()?o.endDate="":(o.endDate="End date is required",i=!1),E.trim()?o.location="":(o.location="Location is required",i=!1),A.trim()?o.role="":(o.role="Role is required",i=!1),f||f===0?o.salary="":(o.salary="Salary is required",i=!1),R.trim()?o.startDate="":(o.startDate="Start date is required",i=!1),j.trim()?o.status="":(o.status="Status is required",i=!1),I(o),i}function Z(){return s?e.jsx("h2",{className:"text-center",children:"Update Employee"}):e.jsx("h2",{className:"text-center",children:"Add Employee"})}return e.jsxs("div",{className:"container",children:[e.jsx("br",{}),e.jsx("div",{className:"row",children:e.jsxs("div",{className:"card",children:[Z(),e.jsx("div",{className:"card-body",children:e.jsxs("form",{onSubmit:M,children:[e.jsxs("div",{className:"form-group mb-2",children:[e.jsx("label",{className:"form-label",children:"First Name"}),e.jsx("input",{type:"text",placeholder:"Enter Employee First Name",name:"firstname",value:u,className:`form-control ${c.firstname?"is-invalid":""}`,onChange:i=>b(i.target.value)}),c.firstname&&e.jsx("div",{className:"invalid-feedback",children:c.firstname})]}),e.jsxs("div",{className:"form-group mb-2",children:[e.jsx("label",{className:"form-label",children:"Last Name"}),e.jsx("input",{type:"text",placeholder:"Enter Employee Last Name",name:"lastname",value:l,className:`form-control ${c.lastname?"is-invalid":""}`,onChange:i=>m(i.target.value)}),c.lastname&&e.jsx("div",{className:"invalid-feedback",children:c.lastname})]}),e.jsxs("div",{className:"form-group mb-2",children:[e.jsx("label",{className:"form-label",children:"Email"}),e.jsx("input",{type:"email",placeholder:"Enter Employee Email",name:"email",value:p,className:`form-control ${c.email?"is-invalid":""}`,onChange:i=>N(i.target.value)}),c.email&&e.jsx("div",{className:"invalid-feedback",children:c.email})]}),e.jsxs("div",{className:"form-group mb-2",children:[e.jsx("label",{className:"form-label",children:"Address"}),e.jsx("input",{type:"text",placeholder:"Enter Employee Address",name:"address",value:x,className:`form-control ${c.address?"is-invalid":""}`,onChange:i=>n(i.target.value)}),c.address&&e.jsx("div",{className:"invalid-feedback",children:c.address})]}),e.jsxs("div",{className:"form-group mb-2",children:[e.jsx("label",{className:"form-label",children:"Company"}),e.jsx("input",{type:"text",placeholder:"Enter Employee Company",name:"company",value:h,className:`form-control ${c.company?"is-invalid":""}`,onChange:i=>r(i.target.value)}),c.company&&e.jsx("div",{className:"invalid-feedback",children:c.company})]}),e.jsxs("div",{className:"form-group mb-2",children:[e.jsx("label",{className:"form-label",children:"Company Term"}),e.jsx("input",{type:"text",placeholder:"Enter Employee Company Term",name:"companyTerm",value:y,className:`form-control ${c.companyTerm?"is-invalid":""}`,onChange:i=>a(i.target.value)}),c.companyTerm&&e.jsx("div",{className:"invalid-feedback",children:c.companyTerm})]}),e.jsxs("div",{className:"form-group mb-2",children:[e.jsx("label",{className:"form-label",children:"End Date"}),e.jsx("input",{type:"date",name:"endDate",value:g,className:`form-control ${c.endDate?"is-invalid":""}`,onChange:i=>S(i.target.value)}),c.endDate&&e.jsx("div",{className:"invalid-feedback",children:c.endDate})]}),e.jsxs("div",{className:"form-group mb-2",children:[e.jsx("label",{className:"form-label",children:"Location"}),e.jsx("input",{type:"text",placeholder:"Enter Employee Location",name:"location",value:E,className:`form-control ${c.location?"is-invalid":""}`,onChange:i=>T(i.target.value)}),c.location&&e.jsx("div",{className:"invalid-feedback",children:c.location})]}),e.jsxs("div",{className:"form-group mb-2",children:[e.jsx("label",{className:"form-label",children:"Role"}),e.jsx("input",{type:"text",placeholder:"Enter Employee Role",name:"role",value:A,className:`form-control ${c.role?"is-invalid":""}`,onChange:i=>w(i.target.value)}),c.role&&e.jsx("div",{className:"invalid-feedback",children:c.role})]}),e.jsxs("div",{className:"form-group mb-2",children:[e.jsx("label",{className:"form-label",children:"Salary"}),e.jsx("input",{type:"number",placeholder:"Enter Employee Salary",name:"salary",value:f,className:`form-control ${c.salary?"is-invalid":""}`,onChange:i=>k(i.target.value)}),c.salary&&e.jsx("div",{className:"invalid-feedback",children:c.salary})]}),e.jsxs("div",{className:"form-group mb-2",children:[e.jsx("label",{className:"form-label",children:"Start Date"}),e.jsx("input",{type:"date",name:"startDate",value:R,className:`form-control ${c.startDate?"is-invalid":""}`,onChange:i=>F(i.target.value)}),c.startDate&&e.jsx("div",{className:"invalid-feedback",children:c.startDate})]}),e.jsxs("div",{className:"form-group mb-2",children:[e.jsx("label",{className:"form-label",children:"Status"}),e.jsx("input",{type:"text",placeholder:"Enter Employee Status",name:"status",value:j,className:`form-control ${c.status?"is-invalid":""}`,onChange:i=>v(i.target.value)}),c.status&&e.jsx("div",{className:"invalid-feedback",children:c.status})]}),e.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"}),e.jsx("button",{type:"button",className:"btn btn-secondary ms-2",onClick:J,children:"Cancel"})]})})]})})]})},de=()=>e.jsxs("div",{children:[e.jsx("br",{}),e.jsx("br",{}),e.jsx("footer",{className:"footer",children:e.jsx("span",{children:"Copyright Â© 2024 Employee Management SYS."})})]}),me=()=>e.jsx("header",{className:"header",children:e.jsxs("nav",{className:"navbar navbar-expand-lg navbar-dark",children:[e.jsx(q,{className:"navbar-brand",to:"/",children:"Employee Management SYS"}),e.jsx("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:e.jsx("span",{className:"navbar-toggler-icon"})}),e.jsx("div",{className:"collapse navbar-collapse",id:"navbarNav",children:e.jsxs("ul",{className:"navbar-nav ms-auto",children:[e.jsx("li",{className:"nav-item",children:e.jsx(q,{className:"nav-link",to:"/",children:"Employee Table"})}),e.jsx("li",{className:"nav-item",children:e.jsx(q,{className:"nav-link",to:"/payroll",children:"Payroll Services"})}),e.jsx("li",{className:"nav-item",children:e.jsx(q,{className:"nav-link",to:"/expenses",children:"Expenses"})})]})})]})}),he=()=>ie().then(t=>t.data).catch(t=>(console.error(t),[])),Y=()=>{const[t,s]=d.useState([]),[u,b]=d.useState(""),l=P();d.useEffect(()=>{he().then(r=>{const y=r.sort((a,g)=>g.id-a.id);s(y)})},[]);function m(r){l(`/payslip/${r}`)}function p(r){l(`/report/${r}`)}function N(){l("/add-employee")}function x(r){l(`/edit-employee/${r}`)}const n=r=>{b(r.target.value)},h=t.filter(r=>r.name.toLowerCase().includes(u.toLowerCase())||r.surname.toLowerCase().includes(u.toLowerCase())||r.email.toLowerCase().includes(u.toLowerCase())||r.role.toLowerCase().includes(u.toLowerCase())||r.company.toLowerCase().includes(u.toLowerCase()));return e.jsxs("div",{className:"container",children:[e.jsx("h2",{children:"Employee Details"}),e.jsx("button",{className:"btn btn-primary mb-2",onClick:N,children:"ADD EMPLOYEE"}),e.jsx("input",{type:"text",placeholder:"Search...",value:u,onChange:n,className:"form-control mb-3"}),e.jsxs("table",{className:"table table-striped table-bordered",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Surname"}),e.jsx("th",{children:"Address"}),e.jsx("th",{children:"Company"}),e.jsx("th",{children:"Company Term"}),e.jsx("th",{children:"Email"}),e.jsx("th",{children:"End Date"}),e.jsx("th",{children:"Location"}),e.jsx("th",{children:"Role"}),e.jsx("th",{children:"Salary"}),e.jsx("th",{children:"Start Date"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"ACTIONS"})]})}),e.jsx("tbody",{children:h.map(r=>e.jsxs("tr",{children:[e.jsx("td",{children:r.name}),e.jsx("td",{children:r.surname}),e.jsx("td",{children:r.address}),e.jsx("td",{children:r.company}),e.jsx("td",{children:r.companyTerm}),e.jsx("td",{children:r.email}),e.jsx("td",{children:r.endDate}),e.jsx("td",{children:r.location}),e.jsx("td",{children:r.role}),e.jsx("td",{children:r.salary}),e.jsx("td",{children:r.startDate}),e.jsx("td",{children:r.status}),e.jsxs("td",{className:"action-buttons",children:[e.jsx("button",{className:"btn btn-info",onClick:()=>x(r.id),children:"Update"}),e.jsx("button",{className:"btn btn-secondary",onClick:()=>m(r.id),children:"Payslip"}),e.jsx("button",{className:"btn btn-warning",onClick:()=>p(r.id),children:"Report"})]})]},r.id))})]})]})},O="http://localhost:8080/payroll",ue="http://localhost:8080/taxNpay",xe="http://localhost:8080/employee/update",pe=(t,s)=>D.put(`${xe}/${t}`,s),je=()=>D.get(`${O}/getAll`),z=t=>D.get(`${O}/${t}`),ve=(t,s)=>D.put(`${O}/update/${t}`,s),ye=t=>D.get(`${ue}/uif`,{params:{salary:t}}),fe=1.5,G=()=>{const[t,s]=d.useState([]),[u,b]=d.useState(""),l=P();d.useEffect(()=>{m()},[]);async function m(){try{const a=await je(),g=await Promise.all(a.data.map(async S=>{try{const E=await ye(S.salaryPerMonth);return{...S,uiF:E.data,leaveStatus:S.leaveDaysTakenPerMonth>fe?"Unpaid":"Paid"}}catch(E){return console.error(E),S}}));s(g)}catch(a){console.error(a)}}function p(){l("/add-payroll")}function N(a){l(`/edit-payroll/${a}`)}function x(a){l(`/payslip/${a}`)}const n=a=>{b(a.target.value)},h=t.filter(a=>[a.name||"",a.surname||"",a.company||"",a.salary||"",a.salaryAfterTaxPerYear||"",a.salaryPerMonth||"",a.salaryAfterTaxPerMonth||"",a.leaveStartDate||"",a.leaveEndDate||"",a.leaveDaysTaken||"",a.leaveDaysLeft||"",a.isLeavePaid?"Paid":"Unpaid",a.deductions||"",a.rebate||"",a.uiF||""].some(S=>S.toString().toLowerCase().includes(u.toLowerCase()))),r=t.length,y=t.reduce((a,g)=>a+(parseFloat(g.salary)||0),0);return e.jsxs("div",{className:"container",children:[e.jsx("br",{}),e.jsxs("div",{className:"row mb-4",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"info-box",children:[e.jsx("strong",{children:"Total Number of Employees: "}),r]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"info-box",children:[e.jsx("strong",{children:"Accumulated Salaries: "}),"R",y.toFixed(2)]})})]}),e.jsx("div",{className:"mb-3",children:e.jsx("input",{type:"text",placeholder:"Search...",value:u,onChange:n,className:"form-control mb-3"})}),e.jsxs("table",{className:"table table-striped table-bordered",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Surname"}),e.jsx("th",{children:"Company"}),e.jsx("th",{children:"Salary (Yearly)"}),e.jsx("th",{children:"Salary After Tax (Yearly)"}),e.jsx("th",{children:"Salary (Monthly)"}),e.jsx("th",{children:"Salary After Tax (Monthly)"}),e.jsx("th",{children:"Leave Start Date"}),e.jsx("th",{children:"Leave End Date"}),e.jsx("th",{children:"Leave Days Taken"}),e.jsx("th",{children:"Leave Days Left"}),e.jsx("th",{children:"Leave Status"}),e.jsx("th",{children:"Deductions"}),e.jsx("th",{children:"Rebate"}),e.jsx("th",{children:"UIF"}),e.jsx("th",{children:"ACTIONS"})]})}),e.jsx("tbody",{children:h.map(a=>e.jsxs("tr",{children:[e.jsx("td",{children:a.name||"N/A"}),e.jsx("td",{children:a.surname||"N/A"}),e.jsx("td",{children:a.company||"N/A"}),e.jsx("td",{children:a.salary?`R${a.salary}`:"N/A"}),e.jsx("td",{children:a.salaryAfterTaxPerYear?`R${a.salaryAfterTaxPerYear}`:"N/A"}),e.jsx("td",{children:a.salaryPerMonth?`R${a.salaryPerMonth}`:"N/A"}),e.jsx("td",{children:a.salaryAfterTaxPerMonth?`R${a.salaryAfterTaxPerMonth}`:"N/A"}),e.jsx("td",{children:a.leaveStartDate?new Date(a.leaveStartDate).toLocaleDateString():"N/A"}),e.jsx("td",{children:a.leaveEndDate?new Date(a.leaveEndDate).toLocaleDateString():"N/A"}),e.jsx("td",{children:a.leaveDaysTaken||"N/A"}),e.jsx("td",{children:a.leaveDaysLeft||"N/A"}),e.jsx("td",{children:a.isLeavePaid?"Paid":"Unpaid"}),e.jsx("td",{children:a.deductions?`R${a.deductions}`:"N/A"}),e.jsx("td",{children:a.rebate?`R${a.rebate}`:"N/A"}),e.jsx("td",{children:a.uiF?`R${a.uiF}`:"N/A"}),e.jsxs("td",{children:[e.jsx("button",{className:"btn btn-primary btn-sm",onClick:()=>N(a.id),children:"Update"}),e.jsx("button",{className:"btn btn-secondary btn-sm mx-2",onClick:()=>x(a.id),children:"Generate Payslip"})]})]},a.id))})]}),e.jsx("button",{className:"btn btn-success",onClick:p,children:"Add New Payroll"})]})},be=1.5,Ne=()=>{const t=P(),{id:s}=_(),[u,b]=d.useState(""),[l,m]=d.useState(""),[p,N]=d.useState(""),[x,n]=d.useState(""),[h,r]=d.useState(""),[y,a]=d.useState(""),[g,S]=d.useState(""),[E,T]=d.useState(""),[A,w]=d.useState(""),[f,k]=d.useState({});d.useEffect(()=>{s&&z(s).then(j=>{const v=j.data;b(v.name||""),m(v.surname||""),N(v.company||""),n(v.salary||""),r(v.leaveStartDate||""),a(v.leaveEndDate||""),T(v.deductions||""),w(v.rebate||"")}).catch(j=>{console.error(j)})},[s]);function R(j,v){if(j&&v){const c=new Date(j),M=(new Date(v)-c)/(1e3*60*60*24)+1;S(M>be?"Unpaid":"Paid")}else S("")}const F=async j=>{j.preventDefault();const v={};if(u||(v.name="Name is required"),l||(v.surname="Surname is required"),p||(v.company="Company is required"),(!x||isNaN(x)||x<=0)&&(v.salary="Salary must be a positive number"),h||(v.leaveStartDate="Leave Start Date is required"),y||(v.leaveEndDate="Leave End Date is required"),(!E||isNaN(E)||E<0)&&(v.deductions="Deductions must be a non-negative number"),(!A||isNaN(A)||A<0)&&(v.rebate="Rebate must be a non-negative number"),k(v),Object.keys(v).length>0)return;const c={name:u,surname:l,company:p,salary:parseFloat(x),leaveStartDate:h,leaveEndDate:y,leaveStatus:g,deductions:parseFloat(E),rebate:parseFloat(A)};try{await ve(s,c),await pe(s,c),t("/payroll")}catch(I){console.error("Error updating payroll:",I)}};return d.useEffect(()=>{R(h,y)},[h,y]),e.jsxs("div",{children:[e.jsx("h2",{children:"Update Payroll"}),e.jsxs("form",{onSubmit:F,children:[e.jsxs("div",{children:[e.jsx("label",{children:"Name"}),e.jsx("input",{type:"text",value:u,onChange:j=>b(j.target.value)}),f.name&&e.jsx("p",{children:f.name})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Surname"}),e.jsx("input",{type:"text",value:l,onChange:j=>m(j.target.value)}),f.surname&&e.jsx("p",{children:f.surname})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Company"}),e.jsx("input",{type:"text",value:p,onChange:j=>N(j.target.value)}),f.company&&e.jsx("p",{children:f.company})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Salary"}),e.jsx("input",{type:"number",value:x,onChange:j=>n(j.target.value)}),f.salary&&e.jsx("p",{children:f.salary})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Leave Start Date"}),e.jsx("input",{type:"date",value:h,onChange:j=>r(j.target.value)}),f.leaveStartDate&&e.jsx("p",{children:f.leaveStartDate})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Leave End Date"}),e.jsx("input",{type:"date",value:y,onChange:j=>a(j.target.value)}),f.leaveEndDate&&e.jsx("p",{children:f.leaveEndDate})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Leave Status"}),e.jsx("input",{type:"text",value:g,readOnly:!0})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Deductions"}),e.jsx("input",{type:"number",value:E,onChange:j=>T(j.target.value)}),f.deductions&&e.jsx("p",{children:f.deductions})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Rebate"}),e.jsx("input",{type:"number",value:A,onChange:j=>w(j.target.value)}),f.rebate&&e.jsx("p",{children:f.rebate})]}),e.jsx("button",{type:"submit",children:"Update Payroll"})]})]})},ge=()=>{const{id:t}=_(),[s,u]=$.useState(null);$.useEffect(()=>{b()},[t]);const b=async()=>{try{const x=await z(t);u(x.data)}catch(x){console.error("Error fetching payroll data:",x)}};if(!s)return e.jsx("div",{children:"Loading..."});const l=x=>x!=null?x.toFixed(2):"N/A",p=((x,n)=>x!=null&&n!=null?x-n:null)(s.salary,s.salaryAfterTax),N=()=>{const x=document.getElementById("payslip-content"),n=new W("p","mm","a4");V(x,{scale:2,useCORS:!0}).then(h=>{const r=h.toDataURL("image/png"),y=210,a=295,g=h.height*y/h.width;let S=g,E=0;for(n.addImage(r,"PNG",0,E,y,g),S-=a;S>0;)E-=a,n.addPage(),n.addImage(r,"PNG",0,E,y,g),S-=a;n.save("payslip.pdf")})};return e.jsxs("div",{className:"payslip-container",children:[e.jsxs("div",{className:"payslip-header",children:[e.jsx("h2",{children:"Employee Payslip"}),e.jsx("p",{className:"confidential",children:"CONFIDENTIAL"}),e.jsx("p",{children:new Date().toLocaleDateString("en-US",{month:"long",year:"numeric"})})]}),e.jsxs("div",{id:"payslip-content",children:[e.jsxs("div",{className:"payslip-info",children:[e.jsxs("div",{className:"info-row",children:[e.jsx("div",{className:"info-label",children:"Name:"}),e.jsxs("div",{className:"info-value",children:[s.name," ",s.surname]})]}),e.jsxs("div",{className:"info-row",children:[e.jsx("div",{className:"info-label",children:"Employee ID:"}),e.jsx("div",{className:"info-value",children:s.id})]}),e.jsxs("div",{className:"info-row",children:[e.jsx("div",{className:"info-label",children:"Title:"}),e.jsx("div",{className:"info-value",children:s.role})," "]})]}),e.jsxs("div",{className:"payslip-table",children:[e.jsxs("div",{className:"table-header",children:[e.jsx("div",{className:"description",children:"Description"}),e.jsx("div",{className:"earnings",children:"Earnings"}),e.jsx("div",{className:"deductions",children:"Deductions"})]}),e.jsxs("div",{className:"table-row",children:[e.jsx("div",{className:"description",children:"Basic Salary"}),e.jsx("div",{className:"earnings",children:l(s.salary)}),e.jsx("div",{className:"deductions"})]}),e.jsxs("div",{className:"table-row",children:[e.jsx("div",{className:"description",children:"Tax"}),e.jsx("div",{className:"earnings"}),e.jsxs("div",{className:"deductions",children:["-",l(p)]})]}),e.jsxs("div",{className:"table-footer",children:[e.jsx("div",{className:"description",children:"Total"}),e.jsx("div",{className:"earnings",children:l(s.salary)}),e.jsxs("div",{className:"deductions",children:["-",l(p)]})]})]}),e.jsx("div",{className:"payslip-footer",children:e.jsxs("div",{className:"footer-row net-pay",children:[e.jsx("div",{className:"footer-label",children:"NET PAY"}),e.jsx("div",{className:"footer-value",children:l(s.salaryAfterTax)})]})})]}),e.jsx("button",{className:"btn btn-primary mt-3",onClick:N,children:"Download PDF"})]})},Ee=()=>{const{id:t}=_(),[s,u]=$.useState(null);$.useEffect(()=>{b()},[t]);const b=async()=>{try{const m=await K(t);u(m.data)}catch(m){console.error("Error fetching employee data:",m)}};if(!s)return e.jsx("div",{children:"Loading..."});const l=()=>{const m=document.getElementById("report-content"),p=new W("p","mm","a4");V(m,{scale:2,useCORS:!0}).then(N=>{const x=N.toDataURL("image/png"),n=210,h=295,r=N.height*n/N.width;let y=r,a=0;for(p.addImage(x,"PNG",0,a,n,r),y-=h;y>0;)a-=h,p.addPage(),p.addImage(x,"PNG",0,a,n,r),y-=h;p.save("employee_report.pdf")})};return e.jsxs("div",{className:"employee-report-container",children:[e.jsxs("div",{id:"report-content",className:"employee-report",children:[e.jsx("h2",{className:"report-title",children:"Employee Report"}),e.jsxs("h3",{children:[s.name," ",s.surname]}),e.jsxs("div",{className:"employee-details",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Name:"})," ",s.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Surname:"})," ",s.surname]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Address:"})," ",s.address]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Location:"})," ",s.location]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Company:"})," ",s.company]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Company Term:"})," ",s.companyTerm]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," ",s.email]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Start Date:"})," ",s.startDate]}),e.jsxs("p",{children:[e.jsx("strong",{children:"End Date:"})," ",s.endDate]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Role:"})," ",s.role]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Start Date:"})," ",s.startDate]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",s.status]})]})]}),e.jsx("button",{onClick:l,className:"download-button",children:"Download Report as PDF"})]})},U="http://localhost:8080/expenses",H=()=>D.get(U),Se=t=>D.post(U,t),De=t=>D.get(`${U}/${t}`),Ce=(t,s)=>D.put(`${U}/${t}`,s),Ae=t=>D.delete(`${U}/${t}`),Le=()=>{const[t,s]=d.useState([]),[u,b]=d.useState(""),l=P();d.useEffect(()=>{H().then(n=>s(n.data)).catch(n=>console.error(n))},[]);const m=n=>{l(`/edit-expense/${n}`)},p=n=>{Ae(n).then(()=>{H().then(h=>s(h.data)).catch(h=>console.error(h))}).catch(h=>console.error(h))},N=n=>{b(n.target.value)},x=t.filter(n=>n.company.toLowerCase().includes(u.toLowerCase())||n.service.toLowerCase().includes(u.toLowerCase())||n.amount.toString().includes(u));return e.jsxs("div",{className:"container",children:[e.jsx("h2",{children:"Company Expenses"}),e.jsx("button",{className:"btn btn-primary mb-2",onClick:()=>l("/add-expense"),children:"ADD EXPENSE"}),e.jsx("input",{type:"text",placeholder:"Search...",value:u,onChange:N,className:"form-control mb-3"}),e.jsxs("table",{className:"table table-striped table-bordered",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Company"}),e.jsx("th",{children:"Service"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Date Due"}),e.jsx("th",{children:"ACTIONS"})]})}),e.jsx("tbody",{children:x.map(n=>e.jsxs("tr",{children:[e.jsx("td",{children:n.company}),e.jsx("td",{children:n.service}),e.jsx("td",{children:n.amount}),e.jsx("td",{children:n.date}),e.jsx("td",{children:n.dateDueForPayment}),e.jsxs("td",{className:"action-buttons",children:[e.jsx("button",{className:"btn btn-info",onClick:()=>m(n.id),children:"Update"}),e.jsx("button",{className:"btn btn-danger",onClick:()=>p(n.id),children:"Delete"})]})]},n.id))})]})]})},X=()=>{const[t,s]=d.useState({company:"",service:"",amount:"",date:"",dateDueForPayment:""}),[u,b]=d.useState(!1),{id:l}=_(),m=P();d.useEffect(()=>{l&&(b(!0),De(l).then(n=>s(n.data)).catch(n=>console.error(n)))},[l]);const p=n=>{const{name:h,value:r}=n.target;s(y=>({...y,[h]:r}))},N=n=>{n.preventDefault(),u?Ce(l,t).then(()=>m("/expenses")).catch(h=>console.error(h)):Se(t).then(()=>m("/expenses")).catch(h=>console.error(h))},x=()=>{m("/expenses")};return e.jsxs("div",{className:"container",children:[e.jsx("h2",{children:u?"Update Expense":"Add Expense"}),e.jsxs("form",{onSubmit:N,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company:"}),e.jsx("input",{type:"text",name:"company",value:t.company,onChange:p,className:"form-control",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Service:"}),e.jsx("input",{type:"text",name:"service",value:t.service,onChange:p,className:"form-control",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Amount:"}),e.jsx("input",{type:"number",name:"amount",value:t.amount,onChange:p,className:"form-control",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Date:"}),e.jsx("input",{type:"date",name:"date",value:t.date,onChange:p,className:"form-control",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Date Due For Payment:"}),e.jsx("input",{type:"date",name:"dateDueForPayment",value:t.dateDueForPayment,onChange:p,className:"form-control"})]}),e.jsxs("div",{className:"form-group d-flex",children:[e.jsxs("button",{type:"submit",className:"btn btn-primary me-2",children:[u?"Update":"Add"," Expense"]}),e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:x,children:"Cancel"})]})]})]})};function Pe(){return e.jsxs(ee,{children:[e.jsx(me,{}),e.jsxs(ae,{children:[e.jsx(C,{path:"/",element:e.jsx(Y,{})}),e.jsx(C,{path:"/employees",element:e.jsx(Y,{})}),e.jsx(C,{path:"/add-employee",element:e.jsx(B,{})}),e.jsx(C,{path:"/edit-employee/:id",element:e.jsx(B,{})}),e.jsx(C,{path:"/payroll",element:e.jsx(G,{})}),e.jsx(C,{path:"/payrolls",element:e.jsx(G,{})}),e.jsx(C,{path:"/edit-payroll/:id",element:e.jsx(Ne,{})}),e.jsx(C,{path:"/payslip/:id",element:e.jsx(ge,{})}),e.jsx(C,{path:"/report/:id",element:e.jsx(Ee,{})}),e.jsx(C,{path:"/expenses",element:e.jsx(Le,{})}),e.jsx(C,{path:"/add-expense",element:e.jsx(X,{})}),e.jsx(C,{path:"/edit-expense/:id",element:e.jsx(X,{})})]}),e.jsx(de,{})]})}se.createRoot(document.getElementById("root")).render(e.jsx($.StrictMode,{children:e.jsx(Pe,{})}));
